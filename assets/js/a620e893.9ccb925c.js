"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[843],{4302:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/persist-environments-726493e76091b78f824c675d37c0ed5a.png"},5045:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/custom-images-9e7d6c56257da419c96f8868d011a823.png"},6083:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/recipient-email-bc8c5be2554174bfa1008e98df7d9b7f.png"},6624:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/send-email-abb127d0a2c87ee6657ef51570756e18.png"},7087:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/web-scraping-92b634e919cd106ff1623c005244a08b.png"},8008:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/code-node-test-dae96f84f486fd9150e668ddd646744b.png"},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>o});var i=s(6540);const t={},r=i.createContext(t);function a(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(r.Provider,{value:n},e.children)}},8999:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/code-node-interface-a3300259894c980904ed71f78be2b80b.png"},9448:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"work-flow/nodes/code-node","title":"Code Node","description":"The Code Node is a powerful execution environment that enables you to run custom Python code within your workflow. Operating within a secure sandbox with internet access, it supports features such as HTTP requests, web scraping, email automation, social media integration, and advanced manipulation of complex Global Variables and data processing.","source":"@site/docs/work-flow/nodes/code-node.md","sourceDirName":"work-flow/nodes","slug":"/work-flow/nodes/code-node","permalink":"/layra/docs/work-flow/nodes/code-node","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"Loop Node","permalink":"/layra/docs/work-flow/nodes/loop-node"},"next":{"title":"LLM Node","permalink":"/layra/docs/work-flow/nodes/llm-node"}}');var t=s(4848),r=s(8453);const a={sidebar_position:5},o="Code Node",l={},c=[{value:"Core Features",id:"core-features",level:2},{value:"1. Secure Execution Environment",id:"1-secure-execution-environment",level:3},{value:"2. Dependency Management",id:"2-dependency-management",level:3},{value:"3. Full Python Capabilities",id:"3-full-python-capabilities",level:3},{value:"Dependency Configuration",id:"dependency-configuration",level:2},{value:"Pip Dependencies",id:"pip-dependencies",level:3},{value:"Sandbox Images",id:"sandbox-images",level:3},{value:"Mirror Acceleration",id:"mirror-acceleration",level:3},{value:"Code Editor",id:"code-editor",level:2},{value:"Global Variable Access",id:"global-variable-access",level:3},{value:"Run Test Feature",id:"run-test-feature",level:3},{value:"Practical Examples",id:"practical-examples",level:2},{value:"1. Web Scraping",id:"1-web-scraping",level:3},{value:"Step 1: Dependency Installation Node",id:"step-1-dependency-installation-node",level:4},{value:"Step 2: Web Scraping Execution Node",id:"step-2-web-scraping-execution-node",level:4},{value:"Expected Output",id:"expected-output",level:4},{value:"2. Email Automation",id:"2-email-automation",level:3},{value:"Automatically Sending Emails",id:"automatically-sending-emails",level:4},{value:"Receiving LAYRA&#39;s Email",id:"receiving-layras-email",level:4},{value:"Next Step",id:"next-step",level:4},{value:"Advanced Usage",id:"advanced-usage",level:2},{value:"Error Handling",id:"error-handling",level:3},{value:"Asynchronous Operations",id:"asynchronous-operations",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"code-node",children:"Code Node"})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.strong,{children:"Code Node"})," is a powerful execution environment that enables you to run custom Python code within your workflow. Operating within a secure sandbox with internet access, it supports features such as HTTP requests, web scraping, email automation, social media integration, and advanced manipulation of complex ",(0,t.jsx)(n.strong,{children:"Global Variables"})," and data processing."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"core-features",children:"Core Features"}),"\n",(0,t.jsx)(n.h3,{id:"1-secure-execution-environment",children:"1. Secure Execution Environment"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Runs in an isolated sandbox with network access"}),"\n",(0,t.jsx)(n.li,{children:"Preserves system integrity while allowing external operations"}),"\n",(0,t.jsx)(n.li,{children:"Supports both synchronous and asynchronous Python code"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"2-dependency-management",children:"2. Dependency Management"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Install any Python package via ",(0,t.jsx)(n.strong,{children:"Pip Dependencies"})]}),"\n",(0,t.jsxs)(n.li,{children:["Accelerate installations with custom ",(0,t.jsx)(n.strong,{children:"Mirror URLs"})]}),"\n",(0,t.jsxs)(n.li,{children:["Save modified environments as reusable custom images with ",(0,t.jsx)(n.strong,{children:"Commit Runtime Environments"})]}),"\n",(0,t.jsxs)(n.li,{children:["Select custom environments using ",(0,t.jsx)(n.strong,{children:"Sandbox Images"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Persist Environments",src:s(4302).A+"",width:"4978",height:"762"})}),"\n",(0,t.jsx)(n.h3,{id:"3-full-python-capabilities",children:"3. Full Python Capabilities"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Manipulate workflow ",(0,t.jsx)(n.strong,{children:"Global Variables"})]}),"\n",(0,t.jsx)(n.li,{children:"Execute complex operations like web scraping"}),"\n",(0,t.jsx)(n.li,{children:"Integrate with APIs and external services"}),"\n",(0,t.jsx)(n.li,{children:"Perform data processing"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Code Node Interface",src:s(8999).A+"",width:"3024",height:"1964"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"dependency-configuration",children:"Dependency Configuration"}),"\n",(0,t.jsx)(n.h3,{id:"pip-dependencies",children:"Pip Dependencies"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Enter package names and click ",(0,t.jsx)(n.code,{children:"Click to Add"})," to add required dependencies",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.em,{children:"(Add dependencies one by one)"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Optional version specification:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"# Examples:\nbeautifulsoup4\nrequests==2.26.0\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{title:"Important",type:"important",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"Pip packages"})," are shared across the entire workflow. This means you only need to install them once on the first node, and subsequent nodes can access them."]})}),"\n",(0,t.jsx)(n.h3,{id:"sandbox-images",children:"Sandbox Images"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Base Image"}),": ",(0,t.jsx)(n.code,{children:"python-sandbox:latest"})," (built on Python 3.12)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Custom Images"}),": Create your own by:",(0,t.jsx)(n.br,{}),"\n","a) Selecting the ",(0,t.jsx)(n.code,{children:"Commit Runtime Environment"})," checkbox",(0,t.jsx)(n.br,{}),"\n","b) Specifying your custom ",(0,t.jsx)(n.code,{children:"Image Name"})," and ",(0,t.jsx)(n.code,{children:"Image Version"})]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{title:"Important",type:"important",children:(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"Image Name"})," must be lowercase"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"Commit Runtime Environment"})," will save ",(0,t.jsx)(n.strong,{children:"all dependencies"})," (both newly added and existing ones in the current runtime image). This means you can repackage the image based on your custom image."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"Sandbox Images"})," are ",(0,t.jsx)(n.strong,{children:"shared across the entire workflow"}),". Any image specified in any Code node will be ",(0,t.jsx)(n.strong,{children:"globally effective"})," for all nodes in this workflow."]}),"\n"]})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Custom Images",src:s(5045).A+"",width:"4091",height:"696"})}),"\n",(0,t.jsx)(n.h3,{id:"mirror-acceleration",children:"Mirror Acceleration"}),"\n",(0,t.jsx)(n.p,{children:"Add mirror URLs to accelerate pip installations:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"# Example mirrors for Chinese users:\nhttps://pypi.tuna.tsinghua.edu.cn/simple\nhttps://mirrors.aliyun.com/pypi/simple/\n"})}),"\n",(0,t.jsxs)(n.admonition,{title:"TIP",type:"tip",children:[(0,t.jsx)(n.p,{children:"After saving the new image, when running a new workflow:"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Select the new image via ",(0,t.jsx)(n.strong,{children:"Sandbox Image"})]}),"\n",(0,t.jsxs)(n.li,{children:["Uncheck the ",(0,t.jsx)(n.code,{children:"Commit Runtime Environment"})," checkbox ( ",(0,t.jsx)(n.em,{children:"This prevents accidental overwriting of the newly saved image."})," )"]}),"\n"]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Dependency Configuration",src:s(9875).A+"",width:"3024",height:"1964"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"code-editor",children:"Code Editor"}),"\n",(0,t.jsx)(n.p,{children:"The editor provides full Python 3.12 support with:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Syntax highlighting"}),"\n",(0,t.jsx)(n.li,{children:"Basic code completion"}),"\n",(0,t.jsx)(n.li,{children:"No artificial formatting restrictions beyond Python's syntax rules"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"global-variable-access",children:"Global Variable Access"}),"\n",(0,t.jsx)(n.p,{children:"Manipulate workflow variables directly:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'# Get and modify variable\nuser_email = "liweixmu@fxomail.com"\nfruit.append("apple")\n\nprint(user_email,"  ")\nprint(fruit)\n'})}),"\n",(0,t.jsx)(n.admonition,{title:"TIP",type:"tip",children:(0,t.jsxs)(n.p,{children:["Leverage ",(0,t.jsx)(n.strong,{children:"LLMs"})," to assist you in writing standardized ",(0,t.jsx)(n.code,{children:"Python code"}),"."]})}),"\n",(0,t.jsx)(n.h3,{id:"run-test-feature",children:"Run Test Feature"}),"\n",(0,t.jsx)(n.p,{children:"Validate code without executing the full workflow:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Run Test"})," in the editor header"]}),"\n",(0,t.jsxs)(n.li,{children:["View execution results in the ",(0,t.jsx)(n.strong,{children:"Output"})," panel"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Run Test Demo",src:s(8008).A+"",width:"3024",height:"1964"})}),"\n",(0,t.jsxs)(n.admonition,{title:"Note",type:"tip",children:[(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.strong,{children:"Output"})," panel uses Markdown rendering. While Python's default ",(0,t.jsx)(n.code,{children:"print()"}),' ends with "\\n", Markdown requires "\xa0\xa0\\n" to render line breaks properly. It\'s recommended to add two spaces to ensure correct Markdown line breaks. For example:']}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'print("hello world") \u2192 print("hello world  ")\n'})})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"practical-examples",children:"Practical Examples"}),"\n",(0,t.jsxs)(n.p,{children:["Next, let\u2019s look at two slightly more complex examples. The first involves web scraping, and the second focuses on email delivery. You can treat these as specific instances of pre-processing and post-processing in the upcoming ",(0,t.jsx)(n.strong,{children:"LLM Node"})," chapter:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Use a web scraper to gather input data"}),"\n",(0,t.jsx)(n.li,{children:"Feed this information to an LLM for summarization and filtering"}),"\n",(0,t.jsx)(n.li,{children:"Call the next node to send the curated content to your email"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Once you master the next chapter, you'll be able to build an Agent application that automatically scrapes and delivers news updates."})}),"\n",(0,t.jsx)(n.p,{children:"The same workflow can be adapted beyond emails. For instance:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Replace email delivery with automated social media posting"}),"\n",(0,t.jsx)(n.li,{children:"Scrape trending content from Platform A"}),"\n",(0,t.jsx)(n.li,{children:"Process it through an LLM for refinement"}),"\n",(0,t.jsx)(n.li,{children:"Autonomously publish to Platform B"}),"\n"]}),"\n",(0,t.jsxs)(n.admonition,{title:"Important Note",type:"warning",children:[(0,t.jsx)(n.p,{children:"Always ensure compliance with legal requirements:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Only scrape content explicitly permitted for republication"}),"\n",(0,t.jsxs)(n.li,{children:["Respect platform ",(0,t.jsx)(n.code,{children:"robots.txt"})," crawling policies"]}),"\n",(0,t.jsx)(n.li,{children:"Unauthorized scraping may result in legal consequences"}),"\n"]})]}),"\n",(0,t.jsx)(n.h3,{id:"1-web-scraping",children:"1. Web Scraping"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Important Best Practice"}),":",(0,t.jsx)(n.br,{}),"\n","Isolate pip installations in a dedicated node. After saving the new image, delete the pip node before subsequent executions to optimize workflow."]}),"\n",(0,t.jsx)(n.h4,{id:"step-1-dependency-installation-node",children:"Step 1: Dependency Installation Node"}),"\n",(0,t.jsxs)(n.p,{children:["Create a dedicated ",(0,t.jsx)(n.code,{children:"pip"})," node to install dependencies and save as a new image ",(0,t.jsx)(n.code,{children:"web_scraping:1.0"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"# PIP REQUIREMENTS\nbeautifulsoup4\nrequests==2.26.0\n"})}),"\n",(0,t.jsx)(n.h4,{id:"step-2-web-scraping-execution-node",children:"Step 2: Web Scraping Execution Node"}),"\n",(0,t.jsxs)(n.p,{children:["Scrape quote data from ",(0,t.jsx)(n.code,{children:"https://quotes.toscrape.com"})," (pages 1-2):"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"import requests\nfrom bs4 import BeautifulSoup\nimport json\n\ndef scrape_quotes_toscrape():\n    base_url = \"https://quotes.toscrape.com\"\n    scraped_quotes = []\n\n    # Scrape first two pages\n    for page_num in range(1, 3):\n        url = f\"{base_url}/page/{page_num}/\"\n        print(f\"Scraping page {page_num}: {url}  \")\n\n        # Fetch page content\n        response = requests.get(url)\n        if response.status_code != 200:\n            print(f\"Failed to scrape page {page_num}. Status: {response.status_code}  \")\n            continue\n\n        # Parse HTML\n        soup = BeautifulSoup(response.text, 'html.parser')\n        quotes = soup.select('div.quote')\n\n        # Extract quote data\n        for quote in quotes:\n            text = quote.select_one('span.text').text.strip()\n            author = quote.select_one('small.author').text.strip()\n            tags = [tag.text for tag in quote.select('a.tag')]\n\n            scraped_quotes.append({\n                'quote': text,\n                'author': author,\n                'tags': tags,\n                'page': page_num\n            })\n\n        print(f\"Page {page_num} scraped. Quotes found: {len(quotes)}\\n\")\n\n    # Output summary\n    print(f\"\u2705 Total quotes scraped: {len(scraped_quotes)}  \")\n    return scraped_quotes\n\n# Execute scraping\nquotes_data = scrape_quotes_toscrape()\n\n# Display sample results\nprint(\"\\n### Sample Output:\")\nfor i, item in enumerate(quotes_data[:5], 1):\n    print(f\"> QUOTE {i}: {item['quote']}  \")\n    print(f\"   - **Author**: {item['author']}  \")\n    print(f\"   - **Tags**: {', '.join(item['tags'])}  \")\n    print(f\"   - **Source Page**: {item['page']}\\n  \")\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Web Scraping",src:s(7087).A+"",width:"3024",height:"1964"})}),"\n",(0,t.jsx)(n.h4,{id:"expected-output",children:"Expected Output"}),"\n",(0,t.jsx)(n.p,{children:"Upon successful execution, the node will display scraped quotes with metadata:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Web Scraping Output",src:s(9873).A+"",width:"3024",height:"1964"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"2-email-automation",children:"2. Email Automation"}),"\n",(0,t.jsx)(n.h4,{id:"automatically-sending-emails",children:"Automatically Sending Emails"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Prerequisites:"}),(0,t.jsx)(n.br,{}),"\n","Enable SMTP service for your email account (using Foxmail as an example):",(0,t.jsx)(n.br,{}),"\n","Log in to your email account \u2192 Settings \u2192 Account \u2192 Enable POP3/SMTP Service",(0,t.jsx)(n.br,{}),"\n","Obtain an ",(0,t.jsx)(n.strong,{children:"Authorization Code"})," (used in place of your password)."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code Node for Automated Email Sending:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"import smtplib, traceback\nfrom email.mime.text import MIMEText\nfrom email.mime.multipart import MIMEMultipart\nfrom email.utils import formatdate\n\ndef send_email():\n    server = None\n    try:\n        # ===== Configure Email Content =====\n        msg = MIMEMultipart()\n        msg['From'] = 'sender@example.com'  # Replace with sender email\n        msg['To'] = 'recipient@example.com'  # Replace with recipient email\n        msg['Subject'] = 'LAYRA Email Automation'  # Email subject\n        msg['Date'] = formatdate(localtime=True)\n\n        # Add email body\n        body = MIMEText('Hello, I am LAYRA. Nice to meet you.', 'plain', 'utf-8')\n        msg.attach(body)\n\n        # ===== Establish SSL Connection =====\n        server = smtplib.SMTP_SSL('smtp.example.com', 465)  # Replace with SMTP server\n        server.login('sender@example.com', 'your_authorization_code')  # Use your authorization code\n\n        # Send email\n        server.sendmail(msg['From'], [msg['To']], msg.as_string())\n        print(\"Email sent successfully\")\n\n    except Exception as e:\n        print(f\"Email sending failed: {e}\")\n        print(\"Exception traceback:\\n\", traceback.format_exc())\n\n    finally:\n        # Safely close connection (ignore quit errors)\n        if server:\n            try:\n                server.quit()  # Attempt graceful exit\n            except smtplib.SMTPServerDisconnected:\n                # Server already disconnected\n                pass\n            except Exception as e:\n                print(f\"Non-critical error during connection closure: {e}\")\n\n# Execute email sending\nsend_email()\n"})}),"\n",(0,t.jsxs)(n.p,{children:["If the email is sent successfully, the ",(0,t.jsx)(n.strong,{children:"Output"})," will display: ",(0,t.jsx)(n.code,{children:"Email sent successfully"}),(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.img,{alt:"Send Email",src:s(6624).A+"",width:"3024",height:"1964"})]}),"\n",(0,t.jsx)(n.h4,{id:"receiving-layras-email",children:"Receiving LAYRA's Email"}),"\n",(0,t.jsxs)(n.p,{children:['Check your inbox to find a "Hello" email successfully sent by LAYRA:',(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.img,{alt:"Recipient Email",src:s(6083).A+"",width:"1170",height:"715"})]}),"\n",(0,t.jsx)(n.h4,{id:"next-step",children:"Next Step"}),"\n",(0,t.jsxs)(n.p,{children:["In the next section, we will extract sender/recipient information as ",(0,t.jsx)(n.strong,{children:"Global Variables"})," and integrate an ",(0,t.jsx)(n.strong,{children:"LLM Node"})," to build an automated workflow."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"advanced-usage",children:"Advanced Usage"}),"\n",(0,t.jsx)(n.h3,{id:"error-handling",children:"Error Handling"}),"\n",(0,t.jsx)(n.p,{children:"Implement try-except blocks for robustness:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"try:\n    response = requests.get(url, timeout=10)\n    response.raise_for_status()\nexcept requests.exceptions.RequestException as e:\n    error = str(e)\n    print(e) # Optional: Print\n    # Graceful fallback logic here\n"})}),"\n",(0,t.jsx)(n.h3,{id:"asynchronous-operations",children:"Asynchronous Operations"}),"\n",(0,t.jsx)(n.p,{children:"Use async functions for high concurrency:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"import aiohttp\nimport asyncio\n\nasync def fetch_data(url):\n    async with aiohttp.ClientSession() as session:\n        async with session.get(url) as response:\n            return await response.text()\n\nasync def main():\n    # Use asyncio.gather to run multiple async tasks concurrently\n    results = await asyncio.gather(\n        fetch_data('https://api.example.com/data1'),\n        fetch_data('https://api.example.com/data2')\n    )\n    return results\n\n# Run the async main function using asyncio.run\nif __name__ == '__main__':\n    results = asyncio.run(main())\n    print(results)  # Optional: Print\n    # Optional: process results here\n"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["Another powerful development tool is the ",(0,t.jsx)(n.strong,{children:"Node-Level Debugging"})," capability for workflows, which will be covered in the ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"../workflow",children:"Workflow"})})," section."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Test Incrementally"}),": Use ",(0,t.jsx)(n.strong,{children:"Run Test"})," frequently during development"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Manage Dependencies"}),": Commit custom images after testing new packages"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Handle Secrets"}),": Store credentials in global variables \u2192 NEVER hardcode"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Limit Scope"}),": Keep single-purpose code in each node"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Add Timeouts"}),": For network operations:","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"requests.get(url, timeout=(3.05, 15))  # Connect + read timeouts\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.admonition,{title:"PERFORMANCE TIP",type:"tip",children:[(0,t.jsx)(n.p,{children:"For recurring operations:"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Install dependencies in base image"}),"\n",(0,t.jsx)(n.li,{children:"Commit environment"}),"\n",(0,t.jsx)(n.li,{children:"Reuse custom image \u2192 Skip installation phase"}),"\n"]})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"LLM Node"})," for powerful Agent Workflow"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Coming Soon"})," ",":Explore"," ",(0,t.jsx)(n.a,{href:"../template-gallery",children:"Template Gallery"})," for prebuilt automation solutions!"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},9873:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/web-scraping-output-20a6c919605164efdf5ede656d2d215a.png"},9875:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/dependency-configuration-dfc2e2ae9b5379e65b971191bc2e12df.png"}}]);